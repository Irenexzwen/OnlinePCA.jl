<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Julia API · OnlinePCA.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>OnlinePCA.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li class="current"><a class="toctext" href="juliaapi.html">Julia API</a><ul class="internal"><li><a class="toctext" href="#Binarization-1">Binarization</a></li><li><a class="toctext" href="#Summarization-1">Summarization</a></li><li><a class="toctext" href="#Filtering-1">Filtering</a></li><li><a class="toctext" href="#Identifying-Highly-Variable-Genes-1">Identifying Highly Variable Genes</a></li><li><a class="toctext" href="#Oja-1">Oja</a></li><li><a class="toctext" href="#CCIPCA-1">CCIPCA</a></li><li><a class="toctext" href="#GD-1">GD</a></li><li><a class="toctext" href="#RSGD-1">RSGD</a></li><li><a class="toctext" href="#SVRG-1">SVRG</a></li><li><a class="toctext" href="#RSVRG-1">RSVRG</a></li></ul></li><li><a class="toctext" href="commandline.html">Command line Tool</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="juliaapi.html">Julia API</a></li></ul><a class="edit-page" href="https://github.com/rikenbit/OnlinePCA.jl/blob/master/docs/src/juliaapi.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Julia API</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="OnlinePCA.jl-(Julia-API)-1" href="#OnlinePCA.jl-(Julia-API)-1">OnlinePCA.jl (Julia API)</a></h1><h2><a class="nav-anchor" id="Binarization-1" href="#Binarization-1">Binarization</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OnlinePCA.csv2bin-Tuple{}" href="#OnlinePCA.csv2bin-Tuple{}"><code>OnlinePCA.csv2bin</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">csv2bin(;csvfile::AbstractString=&quot;&quot;, binfile::AbstractString=&quot;&quot;)</code></pre><p>Convert a CSV file to Julia Binary file.</p><p><code>csvfile</code> and <code>binfile</code> are specified such as Data.csv and Data.dat, respectively.</p></div></div><a class="source-link" target="_blank" href="https://github.com/rikenbit/OnlinePCA.jl/blob/5dd2cbd0622012b0184a5be450deccb69ce1ee8b/src/csv2bin.jl#L1-L7">source</a></section><h2><a class="nav-anchor" id="Summarization-1" href="#Summarization-1">Summarization</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OnlinePCA.sumr-Tuple{}" href="#OnlinePCA.sumr-Tuple{}"><code>OnlinePCA.sumr</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">sumr(;binfile::AbstractString=&quot;&quot;, outdir::AbstractString=&quot;.&quot;, pseudocount::Number=1.0)</code></pre><p>Extract the summary information of data matrix.</p><p><code>binfile</code> is a Julia Binary file generated by <code>csv2bin</code> function.</p><p><code>outdir</code> is specified the directory you want to save the result.</p><p><code>pseudocount</code> is specified to avoid NaN by log10(0) and used when <code>Feature_LogMeans.csv</code> &lt;log10(mean+pseudocount) value of each feature&gt; is generated.</p><p><strong>Output Files</strong></p><ul><li><code>Sample_NoCounts.csv</code> : Sum of counts in each column.</li><li><code>Feature_Means.csv</code> : Mean in each row.</li><li><code>Feature_LogMeans.csv</code> : Log10(Mean+pseudocount) in each row.</li><li><code>Feature_Vars.csv</code> : Sample variance in each row.</li><li><code>Feature_CV2s.csv</code> : Coefficient of Variation in each row.</li><li><code>Feature_NoZeros.csv</code> : Number of zero-elements in each row.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/rikenbit/OnlinePCA.jl/blob/5dd2cbd0622012b0184a5be450deccb69ce1ee8b/src/sumr.jl#L1-L20">source</a></section><h2><a class="nav-anchor" id="Filtering-1" href="#Filtering-1">Filtering</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OnlinePCA.filtering-Tuple{}" href="#OnlinePCA.filtering-Tuple{}"><code>OnlinePCA.filtering</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">filtering(;input::AbstractString=&quot;&quot;, featurelist::AbstractString=&quot;&quot;, samplelist::AbstractString=&quot;&quot;, thr1::Number=0, thr2::Number=0, direct1::AbstractString=&quot;+&quot;, direct2::AbstractString=&quot;+&quot;, outdir::AbstractString=&quot;.&quot;)</code></pre><p>This function filters the genes by some standards such as mean or variance of the genes.</p><p><strong>Input Arguments</strong></p><ul><li><code>input</code> : A Julia Binary file generated by <code>csv2bin</code> function.</li><li><code>featurelist</code> : A row-wise summary data such as. The CSV files are generated by <code>csv2bin</code> function.</li><li><code>thr</code> : The threshold to reject low-signal feature.</li><li><code>outdir</code> : The directory specified the directory you want to save the result.</li></ul><p><strong>Output Files</strong></p><ul><li><code>filtered.zst</code> : Filtered binary file.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/rikenbit/OnlinePCA.jl/blob/5dd2cbd0622012b0184a5be450deccb69ce1ee8b/src/filtering.jl#L1-L16">source</a></section><h2><a class="nav-anchor" id="Identifying-Highly-Variable-Genes-1" href="#Identifying-Highly-Variable-Genes-1">Identifying Highly Variable Genes</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OnlinePCA.hvg-Tuple{}" href="#OnlinePCA.hvg-Tuple{}"><code>OnlinePCA.hvg</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">hvg(;binfile::AbstractString=&quot;&quot;, rowmeanlist::AbstractString=&quot;&quot;, rowvarlist::AbstractString=&quot;&quot;, rowcv2list::AbstractString=&quot;&quot;, outdir::AbstractString=&quot;.&quot;)</code></pre><p>This function perform highly variable genes, which is an feature selection method in scRNA-seq studies.</p><p><strong>Input Arguments</strong></p><ul><li><code>binfile</code> is a Julia Binary file generated by <code>csv2bin</code> function.</li><li><code>rowmeanlist</code> : The mean of each row of matrix. The CSV file is generated by <code>sumr</code> functions.</li><li><code>rowvarlist</code> : The variance of each row of matrix. The CSV file is generated by <code>sumr</code> functions.</li><li><code>rowcv2list</code> : The cv2 of each row of matrix. The CSV file is generated by <code>sumr</code> functions.</li><li><code>outdir</code> : The directory specified the directory you want to save the result.</li></ul><p><strong>Output Files</strong></p><ul><li><code>HVG_useForFit.csv</code> : Parameters to estimate the highly variable genes.</li><li><code>HVG_a0.csv</code> : Parameters to estimate the highly variable genes.</li><li><code>HVG_a1.csv</code> : Parameters to estimate the highly variable genes.</li><li><code>HVG_afits.csv</code> : Parameters to estimate the highly variable genes.</li><li><code>HVG_varFitRatio.csv</code> : Parameters to estimate the highly variable genes.</li><li><code>HVG_df.csv</code> : Parameters to estimate the highly variable genes.</li><li><code>HVG_pval.csv</code> : Parameters to estimate the highly variable genes.</li></ul><p><strong>Reference</strong></p><ul><li><a href="http://pklab.med.harvard.edu/scw2014/subpop_tutorial.html">Highly Variable Genes</a></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/rikenbit/OnlinePCA.jl/blob/5dd2cbd0622012b0184a5be450deccb69ce1ee8b/src/hvg.jl#L1-L27">source</a></section><h2><a class="nav-anchor" id="Oja-1" href="#Oja-1">Oja</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OnlinePCA.oja-Tuple{}" href="#OnlinePCA.oja-Tuple{}"><code>OnlinePCA.oja</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">oja(;input::AbstractString=&quot;&quot;, outdir::Union{Nothing,AbstractString}=nothing, scale::AbstractString=&quot;ftt&quot;, pseudocount::Number=1.0, rowmeanlist::AbstractString=&quot;&quot;, rowvarlist::AbstractString=&quot;&quot;, colsumlist::AbstractString=&quot;&quot;, dim::Number=3, stepsize::Number=0.1, numepoch::Number=3, scheduling::AbstractString=&quot;robbins-monro&quot;, g::Number=0.9, epsilon::Number=1.0e-8, lower::Number=0, upper::Number=1.0f+38, expvar::Number=0.1f0, evalfreq::Number=5000, offsetFull::Number=1f-20, offsetStoch::Number=1f-6, logdir::Union{Nothing,AbstractString}=nothing, perm::Bool=false)</code></pre><p>Online PCA solved by stochastic gradient descent method, also known as Oja&#39;s method.</p><p><strong>Input Arguments</strong></p><ul><li><code>input</code> : Julia Binary file generated by <code>OnlinePCA.csv2bin</code> function.</li><li><code>outdir</code> : The directory specified the directory you want to save the result.</li><li><code>scale</code> : {log,ftt,raw}-scaling of the value.</li><li><code>pseudocount</code> : The number specified to avoid NaN by log10(0) and used when <code>Feature_LogMeans.csv</code> &lt;log10(mean+pseudocount) value of each feature&gt; is generated.</li><li><code>rowmeanlist</code> : The mean of each row of matrix. The CSV file is generated by <code>OnlinePCA.sumr</code> functions.</li><li><code>rowvarlist</code> : The variance of each row of matrix. The CSV file is generated by <code>OnlinePCA.sumr</code> functions.</li><li><code>colsumlist</code> : The sum of counts of each columns of matrix. The CSV file is generated by <code>OnlinePCA.sumr</code> functions.</li><li><code>dim</code> : The number of dimension of PCA.</li><li><code>stepsize</code> : The parameter used in every iteration.</li><li><code>numepoch</code> : The number of epoch.</li><li><code>scheduling</code> : Learning parameter scheduling. <code>robbins-monro</code>, <code>momentum</code>, <code>nag</code>, and <code>adagrad</code> are available.</li><li><code>g</code> : The parameter that is used when scheduling is specified as nag.</li><li><code>epsilon</code> : The parameter that is used when scheduling is specified as adagrad.</li><li><code>lower</code> : Stopping Criteria (When the relative change of error is below this value, the calculation is terminated)</li><li><code>upper</code> : Stopping Criteria (When the relative change of error is above this value, the calculation is terminated)</li><li><code>evalfreq</code> : Evaluation Frequency of Reconstruction Error</li><li><code>offsetFull</code> : Off set value for avoding overflow when calculating full gradient</li><li><code>offsetStoch</code> : Off set value for avoding overflow when calculating stochastic gradient</li><li><code>logdir</code> : The directory where intermediate files are saved, in every evalfreq (e.g. 5000) iteration.</li><li><code>perm</code> : Whether the data matrix is shuffled at random.</li></ul><p><strong>Output Arguments</strong></p><ul><li><code>W</code> : Eigen vectors of covariance matrix (No. columns of the data matrix × dim)</li><li><code>λ</code> : Eigen values (dim × dim)</li><li><code>V</code> : Loading vectors of covariance matrix (No. rows of the data matrix × dim)</li></ul><p><strong>Reference</strong></p><ul><li>SGD-PCA（Oja&#39;s method) : <a href="https://www.sciencedirect.com/science/article/pii/0022247X85901313">Erkki Oja et. al., 1985</a>, <a href="https://www.sciencedirect.com/science/article/pii/S0893608005800899">Erkki Oja, 1992</a></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/rikenbit/OnlinePCA.jl/blob/5dd2cbd0622012b0184a5be450deccb69ce1ee8b/src/oja.jl#L1-L38">source</a></section><h2><a class="nav-anchor" id="CCIPCA-1" href="#CCIPCA-1">CCIPCA</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OnlinePCA.ccipca-Tuple{}" href="#OnlinePCA.ccipca-Tuple{}"><code>OnlinePCA.ccipca</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">ccipca(;input::AbstractString=&quot;&quot;, outdir::Union{Nothing,AbstractString}=nothing, scale::AbstractString=&quot;ftt&quot;, pseudocount::Number=1.0, rowmeanlist::AbstractString=&quot;&quot;, rowvarlist::AbstractString=&quot;&quot;,colsumlist::AbstractString=&quot;&quot;, dim::Number=3, stepsize::Number=0.1, numepoch::Number=3, lower::Number=0, upper::Number=1.0f+38, expvar::Number=0.1f0, evalfreq::Number=5000, offsetFull::Number=1f-20, offsetStoch::Number=1f-15, logdir::Union{Nothing,AbstractString}=nothing, perm::Bool=false)</code></pre><p>Online PCA solved by candid covariance-free incremental PCA.</p><p><strong>Input Arguments</strong></p><ul><li><code>input</code> : Julia Binary file generated by <code>OnlinePCA.csv2bin</code> function.</li><li><code>outdir</code> : The directory specified the directory you want to save the result.</li><li><code>scale</code> : {log,ftt,raw}-scaling of the value.</li><li><code>pseudocount</code> : The number specified to avoid NaN by log10(0) and used when <code>Feature_LogMeans.csv</code> &lt;log10(mean+pseudocount) value of each feature&gt; is generated.</li><li><code>rowmeanlist</code> : The mean of each row of matrix. The CSV file is generated by <code>OnlinePCA.sumr</code> functions.</li><li><code>rowvarlist</code> : The variance of each row of matrix. The CSV file is generated by <code>OnlinePCA.sumr</code> functions.</li><li><code>colsumlist</code> : The sum of counts of each columns of matrix. The CSV file is generated by <code>OnlinePCA.sumr</code> functions.</li><li><code>dim</code> : The number of dimension of PCA.</li><li><code>stepsize</code> : The parameter used in every iteration.</li><li><code>numepoch</code> : The number of epoch.</li><li><code>lower</code> : Stopping Criteria (When the relative change of error is below this value, the calculation is terminated)</li><li><code>upper</code> : Stopping Criteria (When the relative change of error is above this value, the calculation is terminated)</li><li><code>evalfreq</code> : Evaluation Frequency of Reconstruction Error</li><li><code>offsetFull</code> : Off set value for avoding overflow when calculating full gradient</li><li><code>offsetStoch</code> : Off set value for avoding overflow when calculating stochastic gradient</li><li><code>logdir</code> : The directory where intermediate files are saved, in every evalfreq (e.g. 5000) iteration.</li><li><code>perm</code> : Whether the data matrix is shuffled at random.</li></ul><p><strong>Output Arguments</strong></p><ul><li><code>W</code> : Eigen vectors of covariance matrix (No. columns of the data matrix × dim)</li><li><code>λ</code> : Eigen values (dim × dim)</li><li><code>V</code> : Loading vectors of covariance matrix (No. rows of the data matrix × dim)</li></ul><p><strong>Reference</strong></p><ul><li>CCIPCA : <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.7.5665&amp;rep=rep1&amp;type=pdf">Juyang Weng et. al., 2003</a></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/rikenbit/OnlinePCA.jl/blob/5dd2cbd0622012b0184a5be450deccb69ce1ee8b/src/ccipca.jl#L1-L35">source</a></section><h2><a class="nav-anchor" id="GD-1" href="#GD-1">GD</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OnlinePCA.gd-Tuple{}" href="#OnlinePCA.gd-Tuple{}"><code>OnlinePCA.gd</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">gd(;input::AbstractString=&quot;&quot;, outdir::Union{Nothing,AbstractString}=nothing, scale::AbstractString=&quot;ftt&quot;, pseudocount::Number=1.0, rowmeanlist::AbstractString=&quot;&quot;, rowvarlist::AbstractString=&quot;&quot;,colsumlist::AbstractString=&quot;&quot;, dim::Number=3, stepsize::Number=0.1, numepoch::Number=3, scheduling::AbstractString=&quot;robbins-monro&quot;, g::Number=0.9, epsilon::Number=1.0e-8, lower::Number=0, upper::Number=1.0f+38, expvar::Number=0.1f0, evalfreq::Number=5000, offsetFull::Number=1f-20, offsetStoch::Number=1f-6, logdir::Union{Nothing,AbstractString}=nothing, perm::Bool=false)</code></pre><p>Online PCA solved by gradient descent method.</p><p>The convergence is relatively slower than the other online PCA methods.</p><p><strong>Input Arguments</strong></p><ul><li><code>input</code> : Julia Binary file generated by <code>OnlinePCA.csv2bin</code> function.</li><li><code>outdir</code> : The directory specified the directory you want to save the result.</li><li><code>scale</code> : {log,ftt,raw}-scaling of the value.</li><li><code>pseudocount</code> : The number specified to avoid NaN by log10(0) and used when <code>Feature_LogMeans.csv</code> &lt;log10(mean+pseudocount) value of each feature&gt; is generated.</li><li><code>rowmeanlist</code> : The mean of each row of matrix. The CSV file is generated by <code>OnlinePCA.sumr</code> functions.</li><li><code>rowvarlist</code> : The variance of each row of matrix. The CSV file is generated by <code>OnlinePCA.sumr</code> functions.</li><li><code>colsumlist</code> : The sum of counts of each columns of matrix. The CSV file is generated by <code>OnlinePCA.sumr</code> functions.</li><li><code>dim</code> : The number of dimension of PCA.</li><li><code>stepsize</code> : The parameter used in every iteration.</li><li><code>numepoch</code> : The number of epoch.</li><li><code>scheduling</code> : Learning parameter scheduling. <code>robbins-monro</code>, <code>momentum</code>, <code>nag</code>, and <code>adagrad</code> are available.</li><li><code>g</code> : The parameter that is used when scheduling is specified as nag.</li><li><code>epsilon</code> : The parameter that is used when scheduling is specified as adagrad.</li><li><code>lower</code> : Stopping Criteria (When the relative change of error is below this value, the calculation is terminated)</li><li><code>upper</code> : Stopping Criteria (When the relative change of error is above this value, the calculation is terminated)</li><li><code>evalfreq</code> : Evaluation Frequency of Reconstruction Error</li><li><code>offsetFull</code> : Off set value for avoding overflow when calculating full gradient</li><li><code>offsetStoch</code> : Off set value for avoding overflow when calculating stochastic gradient</li><li><code>logdir</code> : The directory where intermediate files are saved, in every 1000 iteration.</li><li><code>perm</code> : Whether the data matrix is shuffled at random.</li></ul><p><strong>Output Arguments</strong></p><ul><li><code>W</code> : Eigen vectors of covariance matrix (No. columns of the data matrix × dim)</li><li><code>λ</code> : Eigen values (dim × dim)</li><li><code>V</code> : Loading vectors of covariance matrix (No. rows of the data matrix × dim)</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/rikenbit/OnlinePCA.jl/blob/5dd2cbd0622012b0184a5be450deccb69ce1ee8b/src/gd.jl#L1-L37">source</a></section><h2><a class="nav-anchor" id="RSGD-1" href="#RSGD-1">RSGD</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OnlinePCA.rsgd-Tuple{}" href="#OnlinePCA.rsgd-Tuple{}"><code>OnlinePCA.rsgd</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">rsgd(;input::AbstractString=&quot;&quot;, outdir::Union{Nothing,AbstractString}=nothing, scale::AbstractString=&quot;ftt&quot;, pseudocount::Number=1.0, rowmeanlist::AbstractString=&quot;&quot;, rowvarlist::AbstractString=&quot;&quot;,colsumlist::AbstractString=&quot;&quot;, dim::Number=3, stepsize::Number=0.1, numepoch::Number=3, scheduling::AbstractString=&quot;robbins-monro&quot;, g::Number=0.9, epsilon::Number=1.0e-8, lower::Number=0, upper::Number=1.0f+38, expvar::Number=0.1f0, evalfreq::Number=5000, offsetFull::Number=1f-20, offsetStoch::Number=1f-6, logdir::Union{Nothing,AbstractString}=nothing, perm::Bool=false)</code></pre><p>Online PCA solved by Riemannian stochastic gradient descent method.</p><p><strong>Input Arguments</strong></p><ul><li><code>input</code> : Julia Binary file generated by <code>OnlinePCA.csv2bin</code> function.</li><li><code>outdir</code> : The directory specified the directory you want to save the result.</li><li><code>scale</code> : {log,ftt,raw}-scaling of the value.</li><li><code>pseudocount</code> : The number specified to avoid NaN by log10(0) and used when <code>Feature_LogMeans.csv</code> &lt;log10(mean+pseudocount) value of each feature&gt; is generated.</li><li><code>rowmeanlist</code> : The mean of each row of matrix. The CSV file is generated by <code>OnlinePCA.sumr</code> functions.</li><li><code>rowvarlist</code> : The variance of each row of matrix. The CSV file is generated by <code>OnlinePCA.sumr</code> functions.</li><li><code>colsumlist</code> : The sum of counts of each columns of matrix. The CSV file is generated by <code>OnlinePCA.sumr</code> functions.</li><li><code>dim</code> : The number of dimension of PCA.</li><li><code>stepsize</code> : The parameter used in every iteration.</li><li><code>numepoch</code> : The number of epoch.</li><li><code>scheduling</code> : Learning parameter scheduling. <code>robbins-monro</code>, <code>momentum</code>, <code>nag</code>, and <code>adagrad</code> are available.</li><li><code>g</code> : The parameter that is used when scheduling is specified as nag.</li><li><code>epsilon</code> : The parameter that is used when scheduling is specified as adagrad.</li><li><code>lower</code> : Stopping Criteria (When the relative change of error is below this value, the calculation is terminated)</li><li><code>upper</code> : Stopping Criteria (When the relative change of error is above this value, the calculation is terminated)</li><li><code>evalfreq</code> : Evaluation Frequency of Reconstruction Error</li><li><code>offsetFull</code> : Off set value for avoding overflow when calculating full gradient</li><li><code>offsetStoch</code> : Off set value for avoding overflow when calculating stochastic gradient</li><li><code>logdir</code> : The directory where intermediate files are saved, in every evalfreq (e.g. 5000) iteration.</li><li><code>perm</code> : Whether the data matrix is shuffled at random.</li></ul><p><strong>Output Arguments</strong></p><ul><li><code>W</code> : Eigen vectors of covariance matrix (No. columns of the data matrix × dim)</li><li><code>λ</code> : Eigen values (dim × dim)</li><li><code>V</code> : Loading vectors of covariance matrix (No. rows of the data matrix × dim)</li></ul><p><strong>Reference</strong></p><ul><li>RSGD-PCA : <a href="https://arxiv.org/abs/1111.5280">Silvere Bonnabel, 2013</a></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/rikenbit/OnlinePCA.jl/blob/5dd2cbd0622012b0184a5be450deccb69ce1ee8b/src/rsgd.jl#L1-L38">source</a></section><h2><a class="nav-anchor" id="SVRG-1" href="#SVRG-1">SVRG</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OnlinePCA.svrg-Tuple{}" href="#OnlinePCA.svrg-Tuple{}"><code>OnlinePCA.svrg</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">svrg(;input::AbstractString=&quot;&quot;, outdir::Union{Nothing,AbstractString}=nothing, scale::AbstractString=&quot;ftt&quot;, pseudocount::Number=1.0, rowmeanlist::AbstractString=&quot;&quot;, rowvarlist::AbstractString=&quot;&quot;, colsumlist::AbstractString=&quot;&quot;, dim::Number=3, stepsize::Number=0.1, numepoch::Number=3, scheduling::AbstractString=&quot;robbins-monro&quot;, g::Number=0.9, epsilon::Number=1.0e-8, lower::Number=0, upper::Number=1.0f+38, expvar::Number=0.1f0, evalfreq::Number=5000, offsetFull::Number=1f-20, offsetStoch::Number=1f-6, logdir::Union{Nothing,AbstractString}=nothing, perm::Bool=false)</code></pre><p>Online PCA solved by variance-reduced stochastic gradient descent method, also known as VR-PCA.</p><p><strong>Input Arguments</strong></p><ul><li><code>input</code> : Julia Binary file generated by <code>OnlinePCA.csv2bin</code> function.</li><li><code>outdir</code> : The directory specified the directory you want to save the result.</li><li><code>scale</code> : {log,ftt,raw}-scaling of the value.</li><li><code>pseudocount</code> : The number specified to avoid NaN by log10(0) and used when <code>Feature_LogMeans.csv</code> &lt;log10(mean+pseudocount) value of each feature&gt; is generated.</li><li><code>rowmeanlist</code> : The mean of each row of matrix. The CSV file is generated by <code>OnlinePCA.sumr</code> functions.</li><li><code>rowvarlist</code> : The variance of each row of matrix. The CSV file is generated by <code>OnlinePCA.sumr</code> functions.</li><li><code>colsumlist</code> : The sum of counts of each columns of matrix. The CSV file is generated by <code>OnlinePCA.sumr</code> functions.</li><li><code>dim</code> : The number of dimension of PCA.</li><li><code>stepsize</code> : The parameter used in every iteration.</li><li><code>numepoch</code> : The number of epoch.</li><li><code>scheduling</code> : Learning parameter scheduling. <code>robbins-monro</code>, <code>momentum</code>, <code>nag</code>, and <code>adagrad</code> are available.</li><li><code>g</code> : The parameter that is used when scheduling is specified as nag.</li><li><code>epsilon</code> : The parameter that is used when scheduling is specified as adagrad.</li><li><code>lower</code> : Stopping Criteria (When the relative change of error is below this value, the calculation is terminated)</li><li><code>upper</code> : Stopping Criteria (When the relative change of error is above this value, the calculation is terminated)</li><li><code>evalfreq</code> : Evaluation Frequency of Reconstruction Error</li><li><code>offsetFull</code> : Off set value for avoding overflow when calculating full gradient</li><li><code>offsetStoch</code> : Off set value for avoding overflow when calculating stochastic gradient</li><li><code>logdir</code> : The directory where intermediate files are saved, in every evalfreq (e.g. 5000) iteration.</li><li><code>perm</code> : Whether the data matrix is shuffled at random.</li></ul><p><strong>Output Arguments</strong></p><ul><li><code>W</code> : Eigen vectors of covariance matrix (No. columns of the data matrix × dim)</li><li><code>λ</code> : Eigen values (dim × dim)</li><li><code>V</code> : Loading vectors of covariance matrix (No. rows of the data matrix × dim)</li></ul><p><strong>Reference</strong></p><ul><li>SVRG-PCA : <a href="http://proceedings.mlr.press/v37/shamir15.pdf">Ohad Shamir, 2015</a></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/rikenbit/OnlinePCA.jl/blob/5dd2cbd0622012b0184a5be450deccb69ce1ee8b/src/svrg.jl#L1-L38">source</a></section><h2><a class="nav-anchor" id="RSVRG-1" href="#RSVRG-1">RSVRG</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OnlinePCA.rsvrg-Tuple{}" href="#OnlinePCA.rsvrg-Tuple{}"><code>OnlinePCA.rsvrg</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">rsvrg(;input::AbstractString=&quot;&quot;, outdir::Union{Nothing,AbstractString}=nothing, scale::AbstractString=&quot;ftt&quot;, pseudocount::Number=1.0, rowmeanlist::AbstractString=&quot;&quot;, rowvarlist::AbstractString=&quot;&quot;,colsumlist::AbstractString=&quot;&quot;, dim::Number=3, stepsize::Number=0.1, numepoch::Number=3, scheduling::AbstractString=&quot;robbins-monro&quot;, g::Number=0.9, epsilon::Number=1.0e-8, lower::Number=0, upper::Number=1.0f+38, expvar::Number=0.1f0, evalfreq::Number=5000, offsetFull::Number=1f-20, offsetStoch::Number=1f-6, logdir::Union{Nothing,AbstractString}=nothing, perm::Bool=false)</code></pre><p>Online PCA solved by Riemannian variance-reduced stochastic gradient descent method.</p><p><strong>Input Arguments</strong></p><ul><li><code>input</code> : Julia Binary file generated by <code>OnlinePCA.csv2bin</code> function.</li><li><code>outdir</code> : The directory specified the directory you want to save the result.</li><li><code>scale</code> : {log,ftt,raw}-scaling of the value.</li><li><code>pseudocount</code> : The number specified to avoid NaN by log10(0) and used when <code>Feature_LogMeans.csv</code> &lt;log10(mean+pseudocount) value of each feature&gt; is generated.</li><li><code>rowmeanlist</code> : The mean of each row of matrix. The CSV file is generated by <code>OnlinePCA.sumr</code> functions.</li><li><code>rowvarlist</code> : The variance of each row of matrix. The CSV file is generated by <code>OnlinePCA.sumr</code> functions.</li><li><code>colsumlist</code> : The sum of counts of each columns of matrix. The CSV file is generated by <code>OnlinePCA.sumr</code> functions.</li><li><code>dim</code> : The number of dimension of PCA.</li><li><code>stepsize</code> : The parameter used in every iteration.</li><li><code>numepoch</code> : The number of epoch.</li><li><code>scheduling</code> : Learning parameter scheduling. <code>robbins-monro</code>, <code>momentum</code>, <code>nag</code>, and <code>adagrad</code> are available.</li><li><code>g</code> : The parameter that is used when scheduling is specified as nag.</li><li><code>epsilon</code> : The parameter that is used when scheduling is specified as adagrad.</li><li><code>lower</code> : Stopping Criteria (When the relative change of error is below this value, the calculation is terminated)</li><li><code>upper</code> : Stopping Criteria (When the relative change of error is above this value, the calculation is terminated)</li><li><code>evalfreq</code> : Evaluation Frequency of Reconstruction Error</li><li><code>offsetFull</code> : Off set value for avoding overflow when calculating full gradient</li><li><code>offsetStoch</code> : Off set value for avoding overflow when calculating stochastic gradient</li><li><code>logdir</code> : The directory where intermediate files are saved, in every evalfreq (e.g. 5000) iteration.</li><li><code>perm</code> : Whether the data matrix is shuffled at random.</li></ul><p><strong>Output Arguments</strong></p><ul><li><code>W</code> : Eigen vectors of covariance matrix (No. columns of the data matrix × dim)</li><li><code>λ</code> : Eigen values (dim × dim)</li><li><code>V</code> : Loading vectors of covariance matrix (No. rows of the data matrix × dim)</li></ul><p><strong>Reference</strong></p><ul><li>RSVRG-PCA : <a href="http://papers.nips.cc/paper/6515-riemannian-svrg-fast-stochastic-optimization-on-riemannian-manifolds.pdf">Hongyi Zhang, et. al., 2016</a>, <a href="https://arxiv.org/abs/1702.05594">Hiroyuki Sato, et. al., 2017</a></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/rikenbit/OnlinePCA.jl/blob/5dd2cbd0622012b0184a5be450deccb69ce1ee8b/src/rsvrg.jl#L1-L38">source</a></section><footer><hr/><a class="previous" href="index.html"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="commandline.html"><span class="direction">Next</span><span class="title">Command line Tool</span></a></footer></article></body></html>
